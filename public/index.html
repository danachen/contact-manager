<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Contact Manager by Dana Chen</title>
    <script src="/javascripts/jquery.js"></script>
    <script src="/javascripts/handlebars.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <link href="/stylesheets/style.css" rel="stylesheet" />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <div class="container-fluid">
      <div class="d-flex justify-content-center nav-head p-lg-5">
        <h1>Contact Manager</h1>
      </div>
      <section
        class="nav d-flex justify-content-center p-lg-5 card bg-light mb-3"
      >
        <div class="row">
          <div class="col-sm-6 mx-auto">
            <div class="input-group">
              <a href="#add"
                ><button
                  id="add-contact"
                  type="button"
                  class="btn btn-primary mx-auto add-contact"
                  type="submit"
                >
                  Add Contact
                </button></a
              >
              <input
                type="text"
                class="form-control input-sm input-normal search-box"
                placeholder="Enter any part of contact name to search"
              />
            </div>
          </div>
        </div>
        <div class="row">
          <ul
            class="
              mt-3
              tag-search
              list-group list-group-horizontal
              justify-content-center
            "
          ></ul>
        </div>
      </section>
      <section class="contacts d-flex justify-content-center card bg-light">
        <br />
        <div class="contact-list-container row justify-content-md-center mt-5">
          <script id="contact-template" type="text/x-handlebars-template">
            {{#if this}}
              {{#each this}}
                <div class="col col-md-4" value={{id}}>
                  <div class="card" style="width: 18rem">
                    <p>
                      Name:
                      {{full_name}}
                    </p>
                    <p>
                      Email:
                      {{email}}
                    </p>
                    <p>
                      Phone:
                      {{phone_number}}
                    </p>
                    <p>
                      Tags:
                      {{tags}}
                    </p>
                    <p class="edit-buttons">
                      <div class="flexbuttons">
                        <button
                          id="update-contact"
                          type="button"
                          class="btn btn-default btn-md btn-primary update-button"
                        >Update</button>
                        <button
                          id="delete-contact"
                          type="button"
                          class="btn btn-default btn-md btn-primary delete-button"
                        >Delete</button>
                      </div>
                    </p>
                  </div>
                </div>
              {{/each}}
            {{else}}
              <h4 class="text-center no-contact-message">There is no contacts.</h4>
            {{/if}}
          </script>
        </div>
        <button
          id="add-contact"
          type="submit"
          class="btn btn-primary mx-auto add-contact"
        >
          Add Contact
        </button>
      </section>
      <section
        class="
          add-form
          contacts
          d-flex
          justify-content-center
          p-lg-5
          m-lg-5
          card
          bg-light
          mb-3
        "
      >
        <form id="add" method="POST" action="/api/contacts/" hidden>
          <h2 class="text-center mb-5">
            <span class="contact-switch">Create</span> Contact
          </h2>
          <div class="col-sm-6 mx-auto">
            <div class="input-group">
              <label for="contact-name" class="form-label">Full name: </label>
              <input
                class="contact contact-name form-control"
                type="text"
                name="full_name"
                required
                pattern="[A-Za-z ]+"
              />
              <p class="error-message"></p>
            </div>
            <br />
            <div class="input-group">
              <label for="contact-email" class="form-label" name="email"
                >Email address:
              </label>
              <input
                class="contact contact-email form-control"
                type="email"
                name="email"
                required
              />
              <p class="error-message"></p>
            </div>
            <br />
            <div class="input-group">
              <label for="contact-phone" class="form-label"
                >Telephone number:
              </label>
              <input
                class="contact contact-phone form-control"
                type="phone"
                name="phone_number"
                required
                pattern="[0-9]{11}"
              />
              <br />
              <p class="error-message"></p>
            </div>
            <br />

            <div class="input-group">
              <div class="row">
                <label for="contact-tags" class="form-label">Tags: </label>
                <input
                  class="contact contact-tags form-control"
                  type="text"
                  name="tags"
                />
                <br />
              </div>
              <div class="row">
                <ul class="tag-list pt-5"></ul>
              </div>
              <p class="error-message"></p>
            </div>
            <br />

            <button type="submit" class="btn btn-primary" id="submit">
              Submit
            </button>
            <button type="button" class="btn btn-primary cancel" id="cancel">
              Cancel
            </button>
          </div>
        </form>
      </section>
    </div>
  </body>
  <script type="module" src="/javascripts/app.js"></script>
</html>
